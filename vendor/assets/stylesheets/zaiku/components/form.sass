//
// Fieldset and fields
//
.field-set
  &.is-disabled
    opacity: 0.5
    pointer-events: none

.field-set--50
  padding-right: 50%

.field-set--100
  padding-right: 0

.fields
  display: flex
  margin: 0 -10px 20px -10px

.fields--no-margin
  margin: 0 -20px

.fields__field
  position: relative
  flex: 1 0px
  padding: 0px 10px

.fields__field--10
  flex: 0 10%

.fields__field--20
  flex: 0 20%

.fields__field--25
  flex: 0 25%

.fields__field--33
  flex: 0 33.333333%

.fields__field--40
  flex: 0 40%

.fields__field--50
  flex: 0 50%

.fields__field--66
  flex: 0 66.666667%

.fields__field--75
  flex: 0 75%

.field
  @include clearfix
  position: relative
  margin: 0 0 20px 0

  &.bottom
    border-top: 1px solid $lightgray
    background-color: $white
    padding: 20px 0

    button
      @include button

      + a.button, + button
        margin-left: 10px

  &.is-disabled
    @include disabled

.field--indented
  margin-left: 34px

.field__text
  @include bold
  @include not-selectable
  line-height: 40px
  color: $lightgray

  &.is-clickable
    cursor: pointer

    &:hover
      color: $primary-color

.fields--no-margin
  margin: 0

//
// Icons inside of text fields, eg units, locks
//
.field__icon
  position: absolute
  bottom: 0
  line-height: 40px
  font-size: 22px
  color: $lightgray

.field__icon--before
  left: 12px

.field__icon--after
  right: 12px

.unit
  @include semi-bold
  position: absolute
  bottom: 0
  right: 10px
  height: 40px
  color: $lightgray
  display: flex
  align-items: center

.fields__field
  .unit
    right: 20px

.thin-form
  width: 430px

//
// Labels and everything similar
//
label
  @include not-selectable
  @include semi-bold
  display: block
  line-height: 2rem
  height: 2rem
  color: $mediumgray
  float: left

  &.for-fields
    float: none

  &.with-tooltip
    float: right
    color: $lightgray
    padding: 0 10px
    transform: translate(10px)

    &:hover
      color: $black

  &.label--right
    @include semi-bold
    float: right
    color: $lightgray

    a
      padding: 20px
      margin-right: -20px
      line-height: 2rem
      color: $lightgray

  &.optional
    &:after
      font-size: 0.7rem
      color: #CCC
      margin-left: 10px
      line-height: 2rem
      content: 'optional'

.label--100
  width: 100%

.additional-text-for-radio
  color: $mediumgray
  margin-left: 34px
  clear: left

button, input[type=submit]
  @include button

input[type=text], input[type=email], input[type=password], input[type=number], select, textarea
  @include transition
  width: 100%
  padding: 0 10px
  border: 2px solid lighten($lightgray, 10%)
  line-height: 24px
  height: 40px
  border-radius: 3px
  -webkit-user-select: text
  outline: 0
  background: $white

  &:focus
    border-color: $lightgray

  &:disabled
    color: rgba(0, 0, 0, 0.4)

  &.right
    float: none
    text-align: right

  &.short
    width: 100px

  &.long
    width: 500px

  &.upcase
    text-transform: uppercase

  // We need to put these special pseudo classes into separate rows, because Chrome
  // ignores the styles if several are put in one row. Browsers are strange ¯\_(ツ)_/¯
  &::-webkit-input-placeholder
    color: rgba(0, 0, 0, 0.15)

  &::-moz-input-placeholder
    color: rgba(0, 0, 0, 0.15)

  &::placeholder
    color: rgba(0, 0, 0, 0.15)

input[type=number]::-webkit-inner-spin-button,
input[type=number]::-webkit-outer-spin-button
  -webkit-appearance: none
  margin: 0

.textfield-placeholder
  @include bold
  line-height: 40px

textarea
  height: 100px
  padding: 8px 10px

  &.textarea--as-field
    height: 94px
    resize: none

  &.textarea--large
    max-width: 100%
    height: 250px


input[type=checkbox], input[type=radio]
  width: 16px
  height: 16px
  margin: 12px 0
  margin-right: 12px
  float: left
  clear: left

  + label, + .field_with_errors label
    line-height: 39px

input[type=checkbox]
  opacity: 0
  position: absolute
  left: -9999px

  + label, + .field_with_errors label
    cursor: pointer

    &:before
      content: ''
      display: block
      float: left
      margin-right: 10px
      margin-top: 7px
      width: 17px
      height: 20px
      line-height: 20px
      padding-left: 3px
      background-color: $white
      border-radius: 2px
      border: 2px solid lighten($lightgray, 10%)
      font-size: 15px
    
  &:checked
    + label
      &:before
        background: image-url('form/check.svg')
        background-position: center
        background-repeat: no-repeat
        background-size: 80%

input[type=radio]
  opacity: 0
  position: absolute
  left: -9999px

  + label, + .field_with_errors label
    cursor: pointer

    &:before
      content: ''
      display: block
      float: left
      margin-right: 10px
      margin-top: 7px
      width: 17px
      height: 20px
      line-height: 20px
      padding-left: 3px
      background-color: $white
      border-radius: 20px
      border: 2px solid lighten($lightgray, 10%)
      font-size: 15px

  &:checked
    + label
      &:before
        background-color: $green
        box-shadow: 0px 0px 0px 4px white inset

  &:active
    + label, + .field_with_errors label
      &:before
        background-color: lighten($green, 20%)
        box-shadow: 0px 0px 0px 4px white inset

input.search-field
  padding-left: 40px
  background-image: image-url('search.svg')
  background-repeat: no-repeat
  background-size: 1em
  background-position: 15px center
  font-size: 0.9em
  height: 36px
  border: 1px solid $lightgray
  border-radius: 5px

.date-select
  clear: left

  select
    width: auto
    min-width: 70px

.field-for-radio
  margin-left: 33px

  &.is-disabled
    opacity: 0.5
    pointer-events: none

.input-field-up + .unit
  margin-right: 56px

.full
  margin-bottom: 20px

  .bottom button:first-child
    margin-left: 230px

.flags
  label
    font-weight: 400

  .field
    margin: 0

.radio-set
  margin-left: -30px

.file-upload
  @include button
  position: relative

  input
    position: absolute
    top: 0
    bottom: 0
    left: 0
    right: 0
    opacity: 0

.custom-select
  position: relative
  display: inline-block

  select
    position: absolute
    height: 100%
    width: 100%
    opacity: 0
    cursor: pointer

.button-set
  margin-top: 40px
  overflow: auto
  text-align: right

  &.is-disabled
    opacity: 0.2
    pointer-events: none

  .btn + .btn
    margin-left: 20px

  .btn + input[type=submit]
    margin-left: 20px

  .button-set__cancel
    margin-right: 20px
    border-bottom: 1px solid

// Custom file upload field
.file-field
  border: 2px solid lighten($lightgray, 10%)
  border-radius: 5px
  padding: 10px
  display: flex
  align-items: center
  position: relative
  cursor: pointer
  clear: left

  &:hover
    background: $almostwhite

  input
    position: absolute
    top: 0
    left: 0
    bottom: 0
    right: 0
    opacity: 0
    width: 100%
    cursor: pointer

.file-field__icon
  background-repeat: no-repeat
  background-size: contain
  background-position: center
  height: 30px
  width: 30px
  margin: 0 20px 0 10px

.file-field__icon--ok
  background-image: image-url('form/file-ok.svg')

.file-field__icon--upload
  background-image: image-url('form/file-upload.svg')

.file-field--pending
  opacity: 0.6

.file-field__progress
  position: absolute
  top: 0
  left: 0
  bottom: 0
  opacity: 0.2
  background: lighten($blue, 10%)
  transition: width 120ms ease-out, opacity 60ms 60ms ease-in
  transform: translate3d(0, 0, 0)

.file-field--complete .file-field__progress
  opacity: 0.4

.file-field--error
  border-color: $red

input[type=file][data-direct-upload-url][disabled]
  display: none

// Custom radio box
.custom-radio-boxes
  display: flex
  margin-left: -5px

.custom-radio-box
  position: relative
  margin: 0 5px
  flex: 1

  &.is-disabled
    opacity: 0.5
    pointer-events: none

  input[type="radio"]
    position: absolute
    height: 100%
    width: 100%
    top: 0
    opacity: 0
    cursor: pointer

  .custom-radio-box__label
    padding: 15px 20px
    border: 2px solid $almostwhite
    border-radius: 5px

  input[type=radio]:checked + .custom-radio-box__label
    border-color: $primary-color
    background: $almostwhite

  input[type=radio]:active .custom-radio-box__label
    background: lighten($lightgray, 5%)

//
// Form error box
//
.form-error
  @include clearfix
  color: $white
  background-color: $red
  width: 600px
  border-radius: 3px
  padding: 20px
  margin-bottom: $big-margin
  font-weight: 600

  p
    @include bold
    margin: 0 0 10px 0

  ul
    margin: 0
    padding: 0 21px

    li
      font-size: 0.9em

.field_with_errors
  input[type=text], input[type=email], input[type=password], input[type=number], select, textarea
    border-color: $red

  label
    color: $red

  + .input--currency
    border-color: $red